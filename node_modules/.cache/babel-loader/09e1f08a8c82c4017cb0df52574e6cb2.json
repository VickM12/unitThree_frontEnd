{"ast":null,"code":"var _jsxFileName = \"/Users/brianbickes/dev_ga/SEIR-Arete/unit_3/w08d02/student_examples/walk-it-out-front-end-cra/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\nimport NavBar from \"./components/NavBar/NavBar\";\nimport DogList from \"./components/DogList/DogList\";\nimport SignUpForm from \"./components/SignUpForm/SignUpForm\";\nimport LogInForm from \"./components/LogInForm/LogInForm\";\nimport LogOut from \"./components/LogOut/LogOut\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    isLoggedIn: false\n  });\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    if (localStorage.token) {\n      setIsLoggedIn(true);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, [isLoggedIn]);\n\n  const handleLogOut = () => {\n    setState({\n      email: \"\",\n      password: \"\",\n      isLoggedIn: false\n    });\n    localStorage.clear();\n  };\n\n  const handleInput = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSignUp = async event => {\n    event.preventDefault();\n\n    try {\n      const response = await axios.post(\"http://localhost:3001/users/signup\", {\n        email: state.email,\n        password: state.password\n      });\n      console.log(response);\n      localStorage.token = response.data.token;\n      setIsLoggedIn(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleLogIn = async event => {\n    event.preventDefault();\n\n    try {\n      const response = await axios.post(\"http://localhost:3001/users/login\", {\n        email: state.email,\n        password: state.password\n      });\n      localStorage.token = response.data.token;\n      setIsLoggedIn(true);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    isLoggedIn: isLoggedIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/signup\",\n    render: props => {\n      return /*#__PURE__*/React.createElement(SignUpForm, {\n        isLoggedIn: isLoggedIn,\n        handleInput: handleInput,\n        handleSignUp: handleSignUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/logout\",\n    render: props => {\n      return /*#__PURE__*/React.createElement(LogOut, {\n        isLoggedIn: isLoggedIn,\n        handleLogOut: handleLogOut,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    render: props => {\n      return /*#__PURE__*/React.createElement(LogInForm, {\n        isLoggedIn: isLoggedIn,\n        handleInput: handleInput,\n        handleLogIn: handleLogIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    render: () => {\n      return /*#__PURE__*/React.createElement(DogList, {\n        isLoggedIn: isLoggedIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 22\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/brianbickes/dev_ga/SEIR-Arete/unit_3/w08d02/student_examples/walk-it-out-front-end-cra/src/App.js"],"names":["React","useState","useEffect","Route","Switch","axios","NavBar","DogList","SignUpForm","LogInForm","LogOut","App","state","setState","email","password","isLoggedIn","setIsLoggedIn","localStorage","token","handleLogOut","clear","handleInput","event","target","name","value","handleSignUp","preventDefault","response","post","console","log","data","err","handleLogIn","error","props"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,UAAP,MAAuB,oCAAvB;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAO,WAAP;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC;AACjCa,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,QAAQ,EAAE,EAFuB;AAGjCC,IAAAA,UAAU,EAAE;AAHqB,GAAD,CAAlC;AAMA,QAAM,CAACA,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,KAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIgB,YAAY,CAACC,KAAjB,EAAwB;AACtBF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KAFD,MAEO;AACLA,MAAAA,aAAa,CAAC,KAAD,CAAb;AACD;AACF,GANQ,EAMN,CAACD,UAAD,CANM,CAAT;;AAQA,QAAMI,YAAY,GAAG,MAAM;AACzBP,IAAAA,QAAQ,CAAC;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,QAAQ,EAAE,EAFH;AAGPC,MAAAA,UAAU,EAAE;AAHL,KAAD,CAAR;AAKAE,IAAAA,YAAY,CAACG,KAAb;AACD,GAPD;;AASA,QAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7BV,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAY,OAACW,KAAK,CAACC,MAAN,CAAaC,IAAd,GAAqBF,KAAK,CAACC,MAAN,CAAaE;AAA9C,KAAD,CAAR;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAG,MAAOJ,KAAP,IAAiB;AACpCA,IAAAA,KAAK,CAACK,cAAN;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,IAAN,CAAW,oCAAX,EAAiD;AACtEhB,QAAAA,KAAK,EAAEF,KAAK,CAACE,KADyD;AAEtEC,QAAAA,QAAQ,EAAEH,KAAK,CAACG;AAFsD,OAAjD,CAAvB;AAIAgB,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAX,MAAAA,YAAY,CAACC,KAAb,GAAqBU,QAAQ,CAACI,IAAT,CAAcd,KAAnC;AACAF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KARD,CAQE,OAAOiB,GAAP,EAAY;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACD;AACF,GAbD;;AAeA,QAAMC,WAAW,GAAG,MAAOZ,KAAP,IAAiB;AACnCA,IAAAA,KAAK,CAACK,cAAN;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,IAAN,CAAW,mCAAX,EAAgD;AACrEhB,QAAAA,KAAK,EAAEF,KAAK,CAACE,KADwD;AAErEC,QAAAA,QAAQ,EAAEH,KAAK,CAACG;AAFqD,OAAhD,CAAvB;AAIAG,MAAAA,YAAY,CAACC,KAAb,GAAqBU,QAAQ,CAACI,IAAT,CAAcd,KAAnC;AACAF,MAAAA,aAAa,CAAC,IAAD,CAAb;AACD,KAPD,CAOE,OAAOmB,KAAP,EAAc;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD;AACF,GAZD;;AAcA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAEpB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,MAAM,EAAGqB,KAAD,IAAW;AACjB,0BACE,oBAAC,UAAD;AACE,QAAA,UAAU,EAAErB,UADd;AAEE,QAAA,WAAW,EAAEM,WAFf;AAGE,QAAA,YAAY,EAAEK,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD,KAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAaE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,MAAM,EAAGU,KAAD,IAAW;AACjB,0BACE,oBAAC,MAAD;AAAQ,QAAA,UAAU,EAAErB,UAApB;AAAgC,QAAA,YAAY,EAAEI,YAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAqBE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,MAAM,EAAGiB,KAAD,IAAW;AACjB,0BACE,oBAAC,SAAD;AACE,QAAA,UAAU,EAAErB,UADd;AAEE,QAAA,WAAW,EAAEM,WAFf;AAGE,QAAA,WAAW,EAAEa,WAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAOD,KAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,eAiCE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,GADP;AAEE,IAAA,MAAM,EAAE,MAAM;AACZ,0BAAO,oBAAC,OAAD;AAAS,QAAA,UAAU,EAAEnB,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCF,CADF,CAFF,CADF;AA+CD,CA1GD;;AA4GA,eAAeL,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport NavBar from \"./components/NavBar/NavBar\";\nimport DogList from \"./components/DogList/DogList\";\nimport SignUpForm from \"./components/SignUpForm/SignUpForm\";\nimport LogInForm from \"./components/LogInForm/LogInForm\";\nimport LogOut from \"./components/LogOut/LogOut\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    isLoggedIn: false,\n  });\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.token) {\n      setIsLoggedIn(true);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, [isLoggedIn]);\n\n  const handleLogOut = () => {\n    setState({\n      email: \"\",\n      password: \"\",\n      isLoggedIn: false,\n    });\n    localStorage.clear();\n  };\n\n  const handleInput = (event) => {\n    setState({ ...state, [event.target.name]: event.target.value });\n  };\n\n  const handleSignUp = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:3001/users/signup\", {\n        email: state.email,\n        password: state.password,\n      });\n      console.log(response);\n      localStorage.token = response.data.token;\n      setIsLoggedIn(true);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleLogIn = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:3001/users/login\", {\n        email: state.email,\n        password: state.password,\n      });\n      localStorage.token = response.data.token;\n      setIsLoggedIn(true);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div>\n      <NavBar isLoggedIn={isLoggedIn} />\n      <div className=\"body\">\n        <Switch>\n          <Route\n            path=\"/signup\"\n            render={(props) => {\n              return (\n                <SignUpForm\n                  isLoggedIn={isLoggedIn}\n                  handleInput={handleInput}\n                  handleSignUp={handleSignUp}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/logout\"\n            render={(props) => {\n              return (\n                <LogOut isLoggedIn={isLoggedIn} handleLogOut={handleLogOut} />\n              );\n            }}\n          />\n          <Route\n            path=\"/login\"\n            render={(props) => {\n              return (\n                <LogInForm\n                  isLoggedIn={isLoggedIn}\n                  handleInput={handleInput}\n                  handleLogIn={handleLogIn}\n                />\n              );\n            }}\n          />\n          <Route\n            path=\"/\"\n            render={() => {\n              return <DogList isLoggedIn={isLoggedIn} />;\n            }}\n          />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}